{
    "name": "suin/php",
    "description": "Monorepo of Suin's PHP works.",
    "keywords": [],
    "license": "MIT",
    "authors": [
        {
            "name": "suin",
            "email": "suinyeze@gmail.com",
            "homepage": "https://github.com/suin",
            "role": "Developer"
        }
    ],
    "minimum-stability": "stable",
    "prefer-stable": true,
    "require": {
        "php": ">=7.1 <7.4.0",
        "ext-json": "*",
        "slevomat/coding-standard": ">=4.7 <5.0.0",
        "squizlabs/php_codesniffer": ">=3.3 <4.0.0"
    },
    "require-dev": {
        "brainmaestro/composer-git-hooks": ">=2.5 <3.0.0",
        "friendsofphp/php-cs-fixer": ">=2.13 <3.0.0",
        "phpunit/phpunit": ">=7.3 <7.4",
        "roave/security-advisories": "dev-master",
        "suin/php-cs-fixer-rules": ">=2.0 <3.0.0",
        "symplify/monorepo-builder": ">=4.7 <5.0"
    },
    "autoload": {
        "psr-4": {
            "Suin\\PhpCodeSniffer\\PSR4ClassNameSniff\\": "packages/phpcs-psr4-class-name-sniff/src"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "Suin\\PhpCodeSniffer\\PSR4ClassNameSniff\\": "packages/phpcs-psr4-class-name-sniff/tests"
        },
        "classmap": [
            "vendor/squizlabs/php_codesniffer/src"
        ]
    },
    "config": {
        "sort-packages": true
    },
    "scripts": {
        "git:configure": [
            "git config core.commentchar '#'",
            "@git:commit-template",
            "cghooks update"
        ],
        "git:commit-template": "git config --add commit.template .gitmessage",
        "qa:format": "php-cs-fixer fix --ansi --config code-quality/php-cs-fixer-config.php",
        "qa:format:preview": "php-cs-fixer fix --ansi --config code-quality/php-cs-fixer-config.php --dry-run --diff --diff-format=udiff --verbose",
        "qa:test": "phpdbg -qrr vendor/bin/phpunit --colors=always",
        "qa:check": [
            "@monorepo:merge",
            "@monorepo:validate",
            "@qa:format:preview",
            "@qa:test"
        ],
        "monorepo:fix-composer-json": "./monorepo/composer-json-fixer.php",
        "monorepo:merge": [
            "@monorepo:fix-composer-json",
            "monorepo-builder merge -c monorepo/monorepo-builder.yml",
            "composer dump-autoload"
        ],
        "monorepo:validate": "monorepo-builder validate -c monorepo/monorepo-builder.yml",
        "monorepo:release": "monorepo-builder split -c monorepo/monorepo-builder.yml",
        "post-install-cmd": "cghooks add --ignore-lock",
        "post-update-cmd": "@git:configure"
    },
    "scripts-descriptions": {
        "git:configure": "Configures git settings.",
        "git:commit-template": "Installs git commit template.",
        "qa:format": "Fixes PHP coding style.",
        "qa:format:preview": "Previews above.",
        "qa:test": "Runs unit tests.",
        "qa:check": "Runs code analysis and unit tests.",
        "monorepo:fix-composer-json": "Fixes \"composer.json\" in all found packages by rules.",
        "monorepo:merge": "Merges \"composer.json\" from all found packages to root one.",
        "monorepo:validate": "Validates synchronized versions in \"composer.json\" in all found packages.",
        "monorepo:release": "Splits packages and release them."
    },
    "extra": {
        "hooks": {
            "pre-commit": "composer qa:check",
            "pre-push": "composer qa:check"
        }
    }
}
